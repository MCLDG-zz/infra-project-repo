{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "AWS CloudFormation Sample Template ElasticBeanstalk_in_VPC: Sample template showing how to create an Elastic Beanstalk environment in a VPC. The stack contains 2 subnets: the first subnet is public and contains the load balancer, a NAT device for internet access from the private subnet and a bastion host to allow SSH access to the Elastic Beanstalk hosts. The second subnet is private and contains the Elastic Beanstalk instances. You will be billed for the AWS resources used if you create a stack from this template.",
  "Parameters": {
    "BastionKeyName": {
      "Description": "Name of an existing EC2 KeyPair to enable SSH access to the bastion host",
      "Type": "AWS::EC2::KeyPair::KeyName",
      "ConstraintDescription": "must be the name of an existing EC2 KeyPair."
    },
    "KeyName": {
      "Description": "Name of an existing EC2 KeyPair to enable SSH access to the Elastic Beanstalk hosts",
      "Type": "AWS::EC2::KeyPair::KeyName",
      "ConstraintDescription": "must be the name of an existing EC2 KeyPair."
    },
    "SSHLocation": {
      "Description": "Lockdown SSH access to the bastion host (default can be accessed from anywhere)",
      "Type": "String",
      "MinLength": "9",
      "MaxLength": "18",
      "Default": "0.0.0.0/0",
      "AllowedPattern": "(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})/(\\d{1,2})",
      "ConstraintDescription": "must be a valid CIDR range of the form x.x.x.x/x."
    },
    "BastionInstanceType": {
      "Description": "Bastion Host EC2 instance type",
      "Type": "String",
      "Default": "t2.small",
      "AllowedValues": [
        "t1.micro",
        "t2.nano",
        "t2.micro",
        "t2.small",
        "t2.medium",
        "t2.large",
        "m1.small",
        "m1.medium",
        "m1.large",
        "m1.xlarge",
        "m2.xlarge",
        "m2.2xlarge",
        "m2.4xlarge",
        "m3.medium",
        "m3.large",
        "m3.xlarge",
        "m3.2xlarge",
        "m4.large",
        "m4.xlarge",
        "m4.2xlarge",
        "m4.4xlarge",
        "m4.10xlarge",
        "c1.medium",
        "c1.xlarge",
        "c3.large",
        "c3.xlarge",
        "c3.2xlarge",
        "c3.4xlarge",
        "c3.8xlarge",
        "c4.large",
        "c4.xlarge",
        "c4.2xlarge",
        "c4.4xlarge",
        "c4.8xlarge",
        "g2.2xlarge",
        "g2.8xlarge",
        "r3.large",
        "r3.xlarge",
        "r3.2xlarge",
        "r3.4xlarge",
        "r3.8xlarge",
        "i2.xlarge",
        "i2.2xlarge",
        "i2.4xlarge",
        "i2.8xlarge",
        "d2.xlarge",
        "d2.2xlarge",
        "d2.4xlarge",
        "d2.8xlarge",
        "hi1.4xlarge",
        "hs1.8xlarge",
        "cr1.8xlarge",
        "cc2.8xlarge",
        "cg1.4xlarge"
      ],
      "ConstraintDescription": "must be a valid EC2 instance type."
    },
    "NATInstanceType": {
      "Description": "NAT Device EC2 instance type",
      "Type": "String",
      "Default": "t2.small",
      "AllowedValues": [
        "t1.micro",
        "t2.nano",
        "t2.micro",
        "t2.small",
        "t2.medium",
        "t2.large",
        "m1.small",
        "m1.medium",
        "m1.large",
        "m1.xlarge",
        "m2.xlarge",
        "m2.2xlarge",
        "m2.4xlarge",
        "m3.medium",
        "m3.large",
        "m3.xlarge",
        "m3.2xlarge",
        "m4.large",
        "m4.xlarge",
        "m4.2xlarge",
        "m4.4xlarge",
        "m4.10xlarge",
        "c1.medium",
        "c1.xlarge",
        "c3.large",
        "c3.xlarge",
        "c3.2xlarge",
        "c3.4xlarge",
        "c3.8xlarge",
        "c4.large",
        "c4.xlarge",
        "c4.2xlarge",
        "c4.4xlarge",
        "c4.8xlarge",
        "g2.2xlarge",
        "g2.8xlarge",
        "r3.large",
        "r3.xlarge",
        "r3.2xlarge",
        "r3.4xlarge",
        "r3.8xlarge",
        "i2.xlarge",
        "i2.2xlarge",
        "i2.4xlarge",
        "i2.8xlarge",
        "d2.xlarge",
        "d2.2xlarge",
        "d2.4xlarge",
        "d2.8xlarge",
        "hi1.4xlarge",
        "hs1.8xlarge",
        "cr1.8xlarge",
        "cc2.8xlarge",
        "cg1.4xlarge"
      ],
      "ConstraintDescription": "must be a valid EC2 instance type."
    }
  },
  "Mappings": {
    "SubnetConfig": {
      "VPC": {
        "CIDR": "10.0.0.0/16"
      },
      "Public": {
        "CIDR": "10.0.0.0/24"
      },
      "Private": {
        "CIDR": "10.0.1.0/24"
      }
    },
    "AWSInstanceType2Arch": {
      "t1.micro": {
        "Arch": "PV64"
      },
      "t2.nano": {
        "Arch": "HVM64"
      },
      "t2.micro": {
        "Arch": "HVM64"
      },
      "t2.small": {
        "Arch": "HVM64"
      },
      "t2.medium": {
        "Arch": "HVM64"
      },
      "t2.large": {
        "Arch": "HVM64"
      },
      "m1.small": {
        "Arch": "PV64"
      },
      "m1.medium": {
        "Arch": "PV64"
      },
      "m1.large": {
        "Arch": "PV64"
      },
      "m1.xlarge": {
        "Arch": "PV64"
      },
      "m2.xlarge": {
        "Arch": "PV64"
      },
      "m2.2xlarge": {
        "Arch": "PV64"
      },
      "m2.4xlarge": {
        "Arch": "PV64"
      },
      "m3.medium": {
        "Arch": "HVM64"
      },
      "m3.large": {
        "Arch": "HVM64"
      },
      "m3.xlarge": {
        "Arch": "HVM64"
      },
      "m3.2xlarge": {
        "Arch": "HVM64"
      },
      "m4.large": {
        "Arch": "HVM64"
      },
      "m4.xlarge": {
        "Arch": "HVM64"
      },
      "m4.2xlarge": {
        "Arch": "HVM64"
      },
      "m4.4xlarge": {
        "Arch": "HVM64"
      },
      "m4.10xlarge": {
        "Arch": "HVM64"
      },
      "c1.medium": {
        "Arch": "PV64"
      },
      "c1.xlarge": {
        "Arch": "PV64"
      },
      "c3.large": {
        "Arch": "HVM64"
      },
      "c3.xlarge": {
        "Arch": "HVM64"
      },
      "c3.2xlarge": {
        "Arch": "HVM64"
      },
      "c3.4xlarge": {
        "Arch": "HVM64"
      },
      "c3.8xlarge": {
        "Arch": "HVM64"
      },
      "c4.large": {
        "Arch": "HVM64"
      },
      "c4.xlarge": {
        "Arch": "HVM64"
      },
      "c4.2xlarge": {
        "Arch": "HVM64"
      },
      "c4.4xlarge": {
        "Arch": "HVM64"
      },
      "c4.8xlarge": {
        "Arch": "HVM64"
      },
      "g2.2xlarge": {
        "Arch": "HVMG2"
      },
      "g2.8xlarge": {
        "Arch": "HVMG2"
      },
      "r3.large": {
        "Arch": "HVM64"
      },
      "r3.xlarge": {
        "Arch": "HVM64"
      },
      "r3.2xlarge": {
        "Arch": "HVM64"
      },
      "r3.4xlarge": {
        "Arch": "HVM64"
      },
      "r3.8xlarge": {
        "Arch": "HVM64"
      },
      "i2.xlarge": {
        "Arch": "HVM64"
      },
      "i2.2xlarge": {
        "Arch": "HVM64"
      },
      "i2.4xlarge": {
        "Arch": "HVM64"
      },
      "i2.8xlarge": {
        "Arch": "HVM64"
      },
      "d2.xlarge": {
        "Arch": "HVM64"
      },
      "d2.2xlarge": {
        "Arch": "HVM64"
      },
      "d2.4xlarge": {
        "Arch": "HVM64"
      },
      "d2.8xlarge": {
        "Arch": "HVM64"
      },
      "hi1.4xlarge": {
        "Arch": "HVM64"
      },
      "hs1.8xlarge": {
        "Arch": "HVM64"
      },
      "cr1.8xlarge": {
        "Arch": "HVM64"
      },
      "cc2.8xlarge": {
        "Arch": "HVM64"
      }
    },
    "AWSInstanceType2NATArch": {
      "t1.micro": {
        "Arch": "NATPV64"
      },
      "t2.nano": {
        "Arch": "NATHVM64"
      },
      "t2.micro": {
        "Arch": "NATHVM64"
      },
      "t2.small": {
        "Arch": "NATHVM64"
      },
      "t2.medium": {
        "Arch": "NATHVM64"
      },
      "t2.large": {
        "Arch": "NATHVM64"
      },
      "m1.small": {
        "Arch": "NATPV64"
      },
      "m1.medium": {
        "Arch": "NATPV64"
      },
      "m1.large": {
        "Arch": "NATPV64"
      },
      "m1.xlarge": {
        "Arch": "NATPV64"
      },
      "m2.xlarge": {
        "Arch": "NATPV64"
      },
      "m2.2xlarge": {
        "Arch": "NATPV64"
      },
      "m2.4xlarge": {
        "Arch": "NATPV64"
      },
      "m3.medium": {
        "Arch": "NATHVM64"
      },
      "m3.large": {
        "Arch": "NATHVM64"
      },
      "m3.xlarge": {
        "Arch": "NATHVM64"
      },
      "m3.2xlarge": {
        "Arch": "NATHVM64"
      },
      "m4.large": {
        "Arch": "NATHVM64"
      },
      "m4.xlarge": {
        "Arch": "NATHVM64"
      },
      "m4.2xlarge": {
        "Arch": "NATHVM64"
      },
      "m4.4xlarge": {
        "Arch": "NATHVM64"
      },
      "m4.10xlarge": {
        "Arch": "NATHVM64"
      },
      "c1.medium": {
        "Arch": "NATPV64"
      },
      "c1.xlarge": {
        "Arch": "NATPV64"
      },
      "c3.large": {
        "Arch": "NATHVM64"
      },
      "c3.xlarge": {
        "Arch": "NATHVM64"
      },
      "c3.2xlarge": {
        "Arch": "NATHVM64"
      },
      "c3.4xlarge": {
        "Arch": "NATHVM64"
      },
      "c3.8xlarge": {
        "Arch": "NATHVM64"
      },
      "c4.large": {
        "Arch": "NATHVM64"
      },
      "c4.xlarge": {
        "Arch": "NATHVM64"
      },
      "c4.2xlarge": {
        "Arch": "NATHVM64"
      },
      "c4.4xlarge": {
        "Arch": "NATHVM64"
      },
      "c4.8xlarge": {
        "Arch": "NATHVM64"
      },
      "g2.2xlarge": {
        "Arch": "NATHVMG2"
      },
      "g2.8xlarge": {
        "Arch": "NATHVMG2"
      },
      "r3.large": {
        "Arch": "NATHVM64"
      },
      "r3.xlarge": {
        "Arch": "NATHVM64"
      },
      "r3.2xlarge": {
        "Arch": "NATHVM64"
      },
      "r3.4xlarge": {
        "Arch": "NATHVM64"
      },
      "r3.8xlarge": {
        "Arch": "NATHVM64"
      },
      "i2.xlarge": {
        "Arch": "NATHVM64"
      },
      "i2.2xlarge": {
        "Arch": "NATHVM64"
      },
      "i2.4xlarge": {
        "Arch": "NATHVM64"
      },
      "i2.8xlarge": {
        "Arch": "NATHVM64"
      },
      "d2.xlarge": {
        "Arch": "NATHVM64"
      },
      "d2.2xlarge": {
        "Arch": "NATHVM64"
      },
      "d2.4xlarge": {
        "Arch": "NATHVM64"
      },
      "d2.8xlarge": {
        "Arch": "NATHVM64"
      },
      "hi1.4xlarge": {
        "Arch": "NATHVM64"
      },
      "hs1.8xlarge": {
        "Arch": "NATHVM64"
      },
      "cr1.8xlarge": {
        "Arch": "NATHVM64"
      },
      "cc2.8xlarge": {
        "Arch": "NATHVM64"
      }
    },
    "AWSRegionArch2AMI": {
      "us-east-1": {
        "PV64": "ami-2a69aa47",
        "HVM64": "ami-6869aa05",
        "HVMG2": "ami-648d9973"
      },
      "us-west-2": {
        "PV64": "ami-7f77b31f",
        "HVM64": "ami-7172b611",
        "HVMG2": "ami-09cd7a69"
      },
      "us-west-1": {
        "PV64": "ami-a2490dc2",
        "HVM64": "ami-31490d51",
        "HVMG2": "ami-1e5f0e7e"
      },
      "eu-west-1": {
        "PV64": "ami-4cdd453f",
        "HVM64": "ami-f9dd458a",
        "HVMG2": "ami-b4694ac7"
      },
      "eu-west-2": {
        "PV64": "NOT_SUPPORTED",
        "HVM64": "ami-886369ec",
        "HVMG2": "NOT_SUPPORTED"
      },
      "eu-central-1": {
        "PV64": "ami-6527cf0a",
        "HVM64": "ami-ea26ce85",
        "HVMG2": "ami-de5191b1"
      },
      "ap-northeast-1": {
        "PV64": "ami-3e42b65f",
        "HVM64": "ami-374db956",
        "HVMG2": "ami-df9ff4b8"
      },
      "ap-northeast-2": {
        "PV64": "NOT_SUPPORTED",
        "HVM64": "ami-2b408b45",
        "HVMG2": "NOT_SUPPORTED"
      },
      "ap-southeast-1": {
        "PV64": "ami-df9e4cbc",
        "HVM64": "ami-a59b49c6",
        "HVMG2": "ami-8d8d23ee"
      },
      "ap-southeast-2": {
        "PV64": "ami-63351d00",
        "HVM64": "ami-dc361ebf",
        "HVMG2": "ami-cbaf94a8"
      },
      "ap-south-1": {
        "PV64": "NOT_SUPPORTED",
        "HVM64": "ami-ffbdd790",
        "HVMG2": "ami-decdbab1"
      },
      "us-east-2": {
        "PV64": "NOT_SUPPORTED",
        "HVM64": "ami-f6035893",
        "HVMG2": "NOT_SUPPORTED"
      },
      "ca-central-1": {
        "PV64": "NOT_SUPPORTED",
        "HVM64": "ami-730ebd17",
        "HVMG2": "NOT_SUPPORTED"
      },
      "sa-east-1": {
        "PV64": "ami-1ad34676",
        "HVM64": "ami-6dd04501",
        "HVMG2": "NOT_SUPPORTED"
      },
      "cn-north-1": {
        "PV64": "ami-77559f1a",
        "HVM64": "ami-8e6aa0e3",
        "HVMG2": "NOT_SUPPORTED"
      }
    },
    "AWSNATRegionArch2AMI": {
      "us-east-1": {
        "NATPV64": "ami-c02b04a8",
        "NATHVM64": "ami-4868ab25"
      },
      "us-west-2": {
        "NATPV64": "ami-2dae821d",
        "NATHVM64": "ami-a275b1c2"
      },
      "us-west-1": {
        "NATPV64": "ami-67a54423",
        "NATHVM64": "ami-004b0f60"
      },
      "eu-west-1": {
        "NATPV64": "ami-cb7de3bc",
        "NATHVM64": "ami-a8dd45db"
      },
      "eu-west-2": {
        "NATPV64": "NOT_SUPPORTED",
        "NATHVM64": "ami-6b4d470f"
      },
      "eu-central-1": {
        "NATPV64": "ami-3604392b",
        "NATHVM64": "ami-5825cd37"
      },
      "ap-northeast-1": {
        "NATPV64": "ami-c7e016c7",
        "NATHVM64": "ami-2443b745"
      },
      "ap-northeast-2": {
        "NATPV64": "NOT_SUPPORTED",
        "NATHVM64": "ami-d14388bf"
      },
      "ap-southeast-1": {
        "NATPV64": "ami-b098a9e2",
        "NATHVM64": "ami-a79b49c4"
      },
      "ap-southeast-2": {
        "NATPV64": "ami-0fed9d35",
        "NATHVM64": "ami-53371f30"
      },
      "ap-south-1": {
        "NATPV64": "NOT_SUPPORTED",
        "NATHVM64": "ami-e2b9d38d"
      },
      "us-east-2": {
        "NATPV64": "NOT_SUPPORTED",
        "NATHVM64": "ami-92a6fef7"
      },
      "ca-central-1": {
        "NATPV64": "NOT_SUPPORTED",
        "NATHVM64": "ami-32f14356"
      },
      "sa-east-1": {
        "NATPV64": "ami-93fb408e",
        "NATHVM64": "ami-9336bcff"
      },
      "cn-north-1": {
        "NATPV64": "ami-bc3fad85",
        "NATHVM64": "ami-7b549e16"
      }
    },
    "Region2Principal": {
      "us-east-1": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "us-west-2": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "us-west-1": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "eu-west-1": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "eu-west-2": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "ap-southeast-1": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "ap-northeast-1": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "ap-northeast-2": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "ap-southeast-2": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "ap-south-1": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "us-east-2": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "ca-central-1": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "sa-east-1": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      },
      "cn-north-1": {
        "EC2Principal": "ec2.amazonaws.com.cn",
        "OpsWorksPrincipal": "opsworks.amazonaws.com.cn"
      },
      "eu-central-1": {
        "EC2Principal": "ec2.amazonaws.com",
        "OpsWorksPrincipal": "opsworks.amazonaws.com"
      }
    }
  },
  "Resources": {
    "VPC": {
      "Type": "AWS::EC2::VPC",
      "Properties": {
        "CidrBlock": {
          "Fn::FindInMap": [
            "SubnetConfig",
            "VPC",
            "CIDR"
          ]
        },
        "Tags": [
          {
            "Key": "Application",
            "Value": {
              "Ref": "AWS::StackId"
            }
          },
          {
            "Key": "Network",
            "Value": "Public"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "069fc522-faa3-4ffe-acd4-e2a9727309c8"
        }
      }
    },
    "PublicSubnet": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "VpcId": {
          "Ref": "VPC"
        },
        "CidrBlock": {
          "Fn::FindInMap": [
            "SubnetConfig",
            "Public",
            "CIDR"
          ]
        },
        "Tags": [
          {
            "Key": "Application",
            "Value": {
              "Ref": "AWS::StackId"
            }
          },
          {
            "Key": "Network",
            "Value": "Public"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "224f4661-604d-4843-afd4-bae1c98cd8dc"
        }
      }
    },
    "InternetGateway": {
      "Type": "AWS::EC2::InternetGateway",
      "Properties": {
        "Tags": [
          {
            "Key": "Application",
            "Value": {
              "Ref": "AWS::StackId"
            }
          },
          {
            "Key": "Network",
            "Value": "Public"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "5c85451d-5fa7-472d-8cc4-70bafb011e72"
        }
      }
    },
    "GatewayToInternet": {
      "Type": "AWS::EC2::VPCGatewayAttachment",
      "Properties": {
        "VpcId": {
          "Ref": "VPC"
        },
        "InternetGatewayId": {
          "Ref": "InternetGateway"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "9fac068e-5992-48dc-a9fc-5f26dc609b89"
        }
      }
    },
    "PublicRouteTable": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "VPC"
        },
        "Tags": [
          {
            "Key": "Application",
            "Value": {
              "Ref": "AWS::StackId"
            }
          },
          {
            "Key": "Network",
            "Value": "Public"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "8126972e-8327-497f-b442-5a5491d01e6b"
        }
      }
    },
    "PublicRoute": {
      "Type": "AWS::EC2::Route",
      "DependsOn": "GatewayToInternet",
      "Properties": {
        "RouteTableId": {
          "Ref": "PublicRouteTable"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Ref": "InternetGateway"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "0ca57efa-5036-4da8-b77e-2c254d338a4a"
        }
      }
    },
    "PublicSubnetRouteTableAssociation": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "SubnetId": {
          "Ref": "PublicSubnet"
        },
        "RouteTableId": {
          "Ref": "PublicRouteTable"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "dea5bc83-29c4-4e52-adbd-efaf81ee631f"
        }
      }
    },
    "PublicNetworkAcl": {
      "Type": "AWS::EC2::NetworkAcl",
      "Properties": {
        "VpcId": {
          "Ref": "VPC"
        },
        "Tags": [
          {
            "Key": "Application",
            "Value": {
              "Ref": "AWS::StackId"
            }
          },
          {
            "Key": "Network",
            "Value": "Public"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "3d9f0e59-30bd-42de-b6cd-a70ebae5e03f"
        }
      }
    },
    "InboundHTTPPublicNetworkAclEntry": {
      "Type": "AWS::EC2::NetworkAclEntry",
      "Properties": {
        "NetworkAclId": {
          "Ref": "PublicNetworkAcl"
        },
        "RuleNumber": "100",
        "Protocol": "6",
        "RuleAction": "allow",
        "Egress": "false",
        "CidrBlock": "0.0.0.0/0",
        "PortRange": {
          "From": "80",
          "To": "80"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "ab63da61-07f5-442f-a6eb-3b64351540ef"
        }
      }
    },
    "InboundHTTPSPublicNetworkAclEntry": {
      "Type": "AWS::EC2::NetworkAclEntry",
      "Properties": {
        "NetworkAclId": {
          "Ref": "PublicNetworkAcl"
        },
        "RuleNumber": "101",
        "Protocol": "6",
        "RuleAction": "allow",
        "Egress": "false",
        "CidrBlock": "0.0.0.0/0",
        "PortRange": {
          "From": "443",
          "To": "443"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "7ade887c-008b-4a31-8c37-0ebe92389a45"
        }
      }
    },
    "InboundSSHPublicNetworkAclEntry": {
      "Type": "AWS::EC2::NetworkAclEntry",
      "Properties": {
        "NetworkAclId": {
          "Ref": "PublicNetworkAcl"
        },
        "RuleNumber": "102",
        "Protocol": "6",
        "RuleAction": "allow",
        "Egress": "false",
        "CidrBlock": {
          "Ref": "SSHLocation"
        },
        "PortRange": {
          "From": "22",
          "To": "22"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "587b0d26-2744-4ec3-9523-16e22c6116d3"
        }
      }
    },
    "InboundEphemeralPublicNetworkAclEntry": {
      "Type": "AWS::EC2::NetworkAclEntry",
      "Properties": {
        "NetworkAclId": {
          "Ref": "PublicNetworkAcl"
        },
        "RuleNumber": "103",
        "Protocol": "6",
        "RuleAction": "allow",
        "Egress": "false",
        "CidrBlock": "0.0.0.0/0",
        "PortRange": {
          "From": "1024",
          "To": "65535"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "e3cd22e3-2930-48b5-acde-f1aa6eafa11b"
        }
      }
    },
    "OutboundPublicNetworkAclEntry": {
      "Type": "AWS::EC2::NetworkAclEntry",
      "Properties": {
        "NetworkAclId": {
          "Ref": "PublicNetworkAcl"
        },
        "RuleNumber": "100",
        "Protocol": "6",
        "RuleAction": "allow",
        "Egress": "true",
        "CidrBlock": "0.0.0.0/0",
        "PortRange": {
          "From": "0",
          "To": "65535"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "17f43d68-4472-4e90-b007-21c867b0d40f"
        }
      }
    },
    "PublicSubnetNetworkAclAssociation": {
      "Type": "AWS::EC2::SubnetNetworkAclAssociation",
      "Properties": {
        "SubnetId": {
          "Ref": "PublicSubnet"
        },
        "NetworkAclId": {
          "Ref": "PublicNetworkAcl"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "01585dde-a951-4b25-babd-1228294754a4"
        }
      }
    },
    "PrivateSubnet": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "VpcId": {
          "Ref": "VPC"
        },
        "CidrBlock": {
          "Fn::FindInMap": [
            "SubnetConfig",
            "Private",
            "CIDR"
          ]
        },
        "Tags": [
          {
            "Key": "Application",
            "Value": {
              "Ref": "AWS::StackId"
            }
          },
          {
            "Key": "Network",
            "Value": "Private"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "09502697-ade1-4ff0-aa20-a4907114b57e"
        }
      }
    },
    "PrivateRouteTable": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "VPC"
        },
        "Tags": [
          {
            "Key": "Application",
            "Value": {
              "Ref": "AWS::StackId"
            }
          },
          {
            "Key": "Network",
            "Value": "Private"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "a582f7bc-71a3-40a3-9f27-3ba957eb8170"
        }
      }
    },
    "PrivateSubnetRouteTableAssociation": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "SubnetId": {
          "Ref": "PrivateSubnet"
        },
        "RouteTableId": {
          "Ref": "PrivateRouteTable"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "924039f1-a30d-4698-b169-1995d8f38366"
        }
      }
    },
    "PrivateRoute": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "PrivateRouteTable"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "InstanceId": {
          "Ref": "NATDevice"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "c166fd91-8927-4a28-b847-5f6b63e42829"
        }
      }
    },
    "PrivateNetworkAcl": {
      "Type": "AWS::EC2::NetworkAcl",
      "Properties": {
        "VpcId": {
          "Ref": "VPC"
        },
        "Tags": [
          {
            "Key": "Application",
            "Value": {
              "Ref": "AWS::StackId"
            }
          },
          {
            "Key": "Network",
            "Value": "Private"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "aa329fad-19a2-4f2a-8e97-c6fcafeb9a69"
        }
      }
    },
    "InboundPrivateNetworkAclEntry": {
      "Type": "AWS::EC2::NetworkAclEntry",
      "Properties": {
        "NetworkAclId": {
          "Ref": "PrivateNetworkAcl"
        },
        "RuleNumber": "100",
        "Protocol": "6",
        "RuleAction": "allow",
        "Egress": "false",
        "CidrBlock": "0.0.0.0/0",
        "PortRange": {
          "From": "0",
          "To": "65535"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "35c8e44b-b00f-46fb-84ef-2231102fc2bc"
        }
      }
    },
    "OutBoundPrivateNetworkAclEntry": {
      "Type": "AWS::EC2::NetworkAclEntry",
      "Properties": {
        "NetworkAclId": {
          "Ref": "PrivateNetworkAcl"
        },
        "RuleNumber": "100",
        "Protocol": "6",
        "RuleAction": "allow",
        "Egress": "true",
        "CidrBlock": "0.0.0.0/0",
        "PortRange": {
          "From": "0",
          "To": "65535"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "3daede36-5d47-472f-b00b-b36503f2febf"
        }
      }
    },
    "PrivateSubnetNetworkAclAssociation": {
      "Type": "AWS::EC2::SubnetNetworkAclAssociation",
      "Properties": {
        "SubnetId": {
          "Ref": "PrivateSubnet"
        },
        "NetworkAclId": {
          "Ref": "PrivateNetworkAcl"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "4d08655d-3ba5-488b-843b-5e389d9cdf2d"
        }
      }
    },
    "NATIPAddress": {
      "Type": "AWS::EC2::EIP",
      "DependsOn": "GatewayToInternet",
      "Properties": {
        "Domain": "vpc",
        "InstanceId": {
          "Ref": "NATDevice"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "8b8cd292-03d6-426d-9356-10ef6f5e6351"
        }
      }
    },
    "NATDevice": {
      "Type": "AWS::EC2::Instance",
      "Properties": {
        "InstanceType": {
          "Ref": "NATInstanceType"
        },
        "SubnetId": {
          "Ref": "PublicSubnet"
        },
        "SourceDestCheck": "false",
        "ImageId": {
          "Fn::FindInMap": [
            "AWSNATRegionArch2AMI",
            {
              "Ref": "AWS::Region"
            },
            {
              "Fn::FindInMap": [
                "AWSInstanceType2NATArch",
                {
                  "Ref": "NATInstanceType"
                },
                "Arch"
              ]
            }
          ]
        },
        "SecurityGroupIds": [
          {
            "Ref": "NATSecurityGroup"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "ee851953-bf24-401c-b9fd-53226611aedf"
        }
      }
    },
    "NATSecurityGroup": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Enable internal access to the NAT device",
        "VpcId": {
          "Ref": "VPC"
        },
        "SecurityGroupIngress": [
          {
            "IpProtocol": "tcp",
            "FromPort": "80",
            "ToPort": "80",
            "SourceSecurityGroupId": {
              "Ref": "BeanstalkSecurityGroup"
            }
          },
          {
            "IpProtocol": "tcp",
            "FromPort": "443",
            "ToPort": "443",
            "SourceSecurityGroupId": {
              "Ref": "BeanstalkSecurityGroup"
            }
          }
        ],
        "SecurityGroupEgress": [
          {
            "IpProtocol": "tcp",
            "FromPort": "80",
            "ToPort": "80",
            "CidrIp": "0.0.0.0/0"
          },
          {
            "IpProtocol": "tcp",
            "FromPort": "443",
            "ToPort": "443",
            "CidrIp": "0.0.0.0/0"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "d2da78c9-2880-4636-8082-93c389dc1a6e"
        }
      }
    },
    "BastionIPAddress": {
      "Type": "AWS::EC2::EIP",
      "DependsOn": "GatewayToInternet",
      "Properties": {
        "Domain": "vpc",
        "InstanceId": {
          "Ref": "BastionHost"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "7244be38-d0d9-42ba-9026-d54b8387b784"
        }
      }
    },
    "BastionHost": {
      "Type": "AWS::EC2::Instance",
      "Properties": {
        "InstanceType": {
          "Ref": "BastionInstanceType"
        },
        "KeyName": {
          "Ref": "BastionKeyName"
        },
        "SubnetId": {
          "Ref": "PublicSubnet"
        },
        "ImageId": {
          "Fn::FindInMap": [
            "AWSRegionArch2AMI",
            {
              "Ref": "AWS::Region"
            },
            {
              "Fn::FindInMap": [
                "AWSInstanceType2Arch",
                {
                  "Ref": "BastionInstanceType"
                },
                "Arch"
              ]
            }
          ]
        },
        "SecurityGroupIds": [
          {
            "Ref": "BastionSecurityGroup"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "aab9b4b4-7bc6-4219-a6b7-3b5785aa4983"
        }
      }
    },
    "BastionSecurityGroup": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Enable access to the Bastion host",
        "VpcId": {
          "Ref": "VPC"
        },
        "SecurityGroupIngress": [
          {
            "IpProtocol": "tcp",
            "FromPort": "22",
            "ToPort": "22",
            "CidrIp": {
              "Ref": "SSHLocation"
            }
          }
        ],
        "SecurityGroupEgress": [
          {
            "IpProtocol": "tcp",
            "FromPort": "22",
            "ToPort": "22",
            "CidrIp": {
              "Fn::FindInMap": [
                "SubnetConfig",
                "Private",
                "CIDR"
              ]
            }
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "d514d9a0-c000-416e-b563-580c92f82b59"
        }
      }
    },
    "BeanstalkSecurityGroup": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Allow the Elastic Beanstalk instances to access the NAT device",
        "VpcId": {
          "Ref": "VPC"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "77f11371-47e0-4d6a-84e4-6351f1c9bdde"
        }
      }
    },
    "WebServerRole": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Effect": "Allow",
              "Principal": {
                "Service": [
                  {
                    "Fn::FindInMap": [
                      "Region2Principal",
                      {
                        "Ref": "AWS::Region"
                      },
                      "EC2Principal"
                    ]
                  }
                ]
              },
              "Action": [
                "sts:AssumeRole"
              ]
            }
          ]
        },
        "Path": "/"
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "8d3fe82d-6164-44a0-b993-12d2ed518198"
        }
      }
    },
    "WebServerRolePolicy": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyName": "WebServerRole",
        "PolicyDocument": {
          "Statement": [
            {
              "Effect": "Allow",
              "NotAction": "iam:*",
              "Resource": "*"
            }
          ]
        },
        "Roles": [
          {
            "Ref": "WebServerRole"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "8011a16b-9f8b-492f-95b6-e3b7522c1318"
        }
      }
    },
    "WebServerInstanceProfile": {
      "Type": "AWS::IAM::InstanceProfile",
      "Properties": {
        "Path": "/",
        "Roles": [
          {
            "Ref": "WebServerRole"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "1b98f3b3-6dc2-4b84-b5af-8fb8a09bd4b9"
        }
      }
    },
    "SampleApplication": {
      "Type": "AWS::ElasticBeanstalk::Application",
      "Properties": {
        "Description": "AWS Elastic Beanstalk Python Sample Application"
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "51eff7c7-b228-4934-9d77-652d5176f8f1"
        }
      }
    },
    "SampleApplicationVersion": {
      "Type": "AWS::ElasticBeanstalk::ApplicationVersion",
      "Properties": {
        "Description": "Version 1.0",
        "ApplicationName": {
          "Ref": "SampleApplication"
        },
        "SourceBundle": {
          "S3Bucket": {
            "Fn::Join": [
              "-",
              [
                "elasticbeanstalk-samples",
                {
                  "Ref": "AWS::Region"
                }
              ]
            ]
          },
          "S3Key": "elasticbeanstalk-sampleapp.war"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "68138aae-9cb4-4628-ba4f-9614a485cd23"
        }
      }
    },
    "SampleEnvironment": {
      "Type": "AWS::ElasticBeanstalk::Environment",
      "Properties": {
        "ApplicationName": {
          "Ref": "SampleApplication"
        },
        "Description": "AWS Elastic Beanstalk Environment running Python Sample Application",
        "SolutionStackName": "64bit Amazon Linux 2016.09 v2.5.0 running Tomcat 8 Java 8",
        "VersionLabel": {
          "Ref": "SampleApplicationVersion"
        },
        "OptionSettings": [
          {
            "Namespace": "aws:autoscaling:launchconfiguration",
            "OptionName": "SSHSourceRestriction",
            "Value": {
              "Fn::Join": [
                "",
                [
                  "tcp,22,22,",
                  {
                    "Ref": "BastionSecurityGroup"
                  }
                ]
              ]
            }
          },
          {
            "Namespace": "aws:autoscaling:launchconfiguration",
            "OptionName": "SecurityGroups",
            "Value": {
              "Ref": "BeanstalkSecurityGroup"
            }
          },
          {
            "Namespace": "aws:autoscaling:launchconfiguration",
            "OptionName": "EC2KeyName",
            "Value": {
              "Ref": "KeyName"
            }
          },
          {
            "Namespace": "aws:ec2:vpc",
            "OptionName": "VPCId",
            "Value": {
              "Ref": "VPC"
            }
          },
          {
            "Namespace": "aws:ec2:vpc",
            "OptionName": "Subnets",
            "Value": {
              "Ref": "PrivateSubnet"
            }
          },
          {
            "Namespace": "aws:ec2:vpc",
            "OptionName": "ELBSubnets",
            "Value": {
              "Ref": "PublicSubnet"
            }
          },
          {
            "Namespace": "aws:autoscaling:launchconfiguration",
            "OptionName": "IamInstanceProfile",
            "Value": {
              "Ref": "WebServerInstanceProfile"
            }
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "8efdafd7-2ed0-470a-8e94-55456444fac5"
        }
      }
    }
  },
  "Outputs": {
    "Bastion": {
      "Description": "IP Address of the Bastion host",
      "Value": {
        "Ref": "BastionIPAddress"
      }
    },
    "URL": {
      "Description": "The URL of the Elastic Beanstalk environment",
      "Value": {
        "Fn::Join": [
          "",
          [
            "http://",
            {
              "Fn::GetAtt": [
                "SampleEnvironment",
                "EndpointURL"
              ]
            }
          ]
        ]
      }
    }
  },
  "Metadata": {
    "AWS::CloudFormation::Designer": {
      "51eff7c7-b228-4934-9d77-652d5176f8f1": {
        "size": {
          "width": 330,
          "height": 240
        },
        "position": {
          "x": 60,
          "y": 1200
        },
        "z": 1,
        "embeds": [
          "68138aae-9cb4-4628-ba4f-9614a485cd23",
          "8efdafd7-2ed0-470a-8e94-55456444fac5"
        ]
      },
      "68138aae-9cb4-4628-ba4f-9614a485cd23": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 90,
          "y": 1260
        },
        "z": 2,
        "parent": "51eff7c7-b228-4934-9d77-652d5176f8f1",
        "embeds": []
      },
      "8d3fe82d-6164-44a0-b993-12d2ed518198": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1260,
          "y": 90
        },
        "z": 1,
        "embeds": []
      },
      "1b98f3b3-6dc2-4b84-b5af-8fb8a09bd4b9": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1380,
          "y": 90
        },
        "z": 1,
        "embeds": [],
        "isassociatedwith": [
          "8d3fe82d-6164-44a0-b993-12d2ed518198"
        ]
      },
      "8011a16b-9f8b-492f-95b6-e3b7522c1318": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1260,
          "y": 210
        },
        "z": 1,
        "embeds": [],
        "isassociatedwith": [
          "8d3fe82d-6164-44a0-b993-12d2ed518198"
        ]
      },
      "5c85451d-5fa7-472d-8cc4-70bafb011e72": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1380,
          "y": 210
        },
        "z": 1,
        "embeds": []
      },
      "069fc522-faa3-4ffe-acd4-e2a9727309c8": {
        "size": {
          "width": 1140,
          "height": 1050
        },
        "position": {
          "x": 60,
          "y": 90
        },
        "z": 1,
        "embeds": [
          "77f11371-47e0-4d6a-84e4-6351f1c9bdde",
          "d514d9a0-c000-416e-b563-580c92f82b59",
          "d2da78c9-2880-4636-8082-93c389dc1a6e",
          "aa329fad-19a2-4f2a-8e97-c6fcafeb9a69",
          "a582f7bc-71a3-40a3-9f27-3ba957eb8170",
          "09502697-ade1-4ff0-aa20-a4907114b57e",
          "3d9f0e59-30bd-42de-b6cd-a70ebae5e03f",
          "8126972e-8327-497f-b442-5a5491d01e6b",
          "224f4661-604d-4843-afd4-bae1c98cd8dc"
        ]
      },
      "77f11371-47e0-4d6a-84e4-6351f1c9bdde": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 870,
          "y": 660
        },
        "z": 2,
        "parent": "069fc522-faa3-4ffe-acd4-e2a9727309c8",
        "embeds": []
      },
      "d514d9a0-c000-416e-b563-580c92f82b59": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 990,
          "y": 660
        },
        "z": 2,
        "parent": "069fc522-faa3-4ffe-acd4-e2a9727309c8",
        "embeds": []
      },
      "d2da78c9-2880-4636-8082-93c389dc1a6e": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 870,
          "y": 780
        },
        "z": 2,
        "parent": "069fc522-faa3-4ffe-acd4-e2a9727309c8",
        "embeds": [],
        "isrelatedto": [
          "77f11371-47e0-4d6a-84e4-6351f1c9bdde"
        ]
      },
      "aa329fad-19a2-4f2a-8e97-c6fcafeb9a69": {
        "size": {
          "width": 330,
          "height": 240
        },
        "position": {
          "x": 480,
          "y": 540
        },
        "z": 2,
        "parent": "069fc522-faa3-4ffe-acd4-e2a9727309c8",
        "embeds": [
          "3daede36-5d47-472f-b00b-b36503f2febf",
          "35c8e44b-b00f-46fb-84ef-2231102fc2bc"
        ]
      },
      "3daede36-5d47-472f-b00b-b36503f2febf": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 510,
          "y": 600
        },
        "z": 3,
        "parent": "aa329fad-19a2-4f2a-8e97-c6fcafeb9a69",
        "embeds": []
      },
      "35c8e44b-b00f-46fb-84ef-2231102fc2bc": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 630,
          "y": 600
        },
        "z": 3,
        "parent": "aa329fad-19a2-4f2a-8e97-c6fcafeb9a69",
        "embeds": []
      },
      "a582f7bc-71a3-40a3-9f27-3ba957eb8170": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 870,
          "y": 150
        },
        "z": 2,
        "parent": "069fc522-faa3-4ffe-acd4-e2a9727309c8",
        "embeds": [
          "c166fd91-8927-4a28-b847-5f6b63e42829"
        ]
      },
      "09502697-ade1-4ff0-aa20-a4907114b57e": {
        "size": {
          "width": 150,
          "height": 150
        },
        "position": {
          "x": 870,
          "y": 450
        },
        "z": 2,
        "parent": "069fc522-faa3-4ffe-acd4-e2a9727309c8",
        "embeds": []
      },
      "4d08655d-3ba5-488b-843b-5e389d9cdf2d": {
        "source": {
          "id": "aa329fad-19a2-4f2a-8e97-c6fcafeb9a69"
        },
        "target": {
          "id": "09502697-ade1-4ff0-aa20-a4907114b57e"
        }
      },
      "924039f1-a30d-4698-b169-1995d8f38366": {
        "source": {
          "id": "a582f7bc-71a3-40a3-9f27-3ba957eb8170"
        },
        "target": {
          "id": "09502697-ade1-4ff0-aa20-a4907114b57e"
        }
      },
      "3d9f0e59-30bd-42de-b6cd-a70ebae5e03f": {
        "size": {
          "width": 420,
          "height": 330
        },
        "position": {
          "x": 90,
          "y": 150
        },
        "z": 2,
        "parent": "069fc522-faa3-4ffe-acd4-e2a9727309c8",
        "embeds": [
          "17f43d68-4472-4e90-b007-21c867b0d40f",
          "e3cd22e3-2930-48b5-acde-f1aa6eafa11b",
          "587b0d26-2744-4ec3-9523-16e22c6116d3",
          "7ade887c-008b-4a31-8c37-0ebe92389a45",
          "ab63da61-07f5-442f-a6eb-3b64351540ef"
        ]
      },
      "17f43d68-4472-4e90-b007-21c867b0d40f": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 120,
          "y": 210
        },
        "z": 3,
        "parent": "3d9f0e59-30bd-42de-b6cd-a70ebae5e03f",
        "embeds": []
      },
      "e3cd22e3-2930-48b5-acde-f1aa6eafa11b": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 240,
          "y": 210
        },
        "z": 3,
        "parent": "3d9f0e59-30bd-42de-b6cd-a70ebae5e03f",
        "embeds": []
      },
      "587b0d26-2744-4ec3-9523-16e22c6116d3": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 120,
          "y": 330
        },
        "z": 3,
        "parent": "3d9f0e59-30bd-42de-b6cd-a70ebae5e03f",
        "embeds": []
      },
      "7ade887c-008b-4a31-8c37-0ebe92389a45": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 240,
          "y": 330
        },
        "z": 3,
        "parent": "3d9f0e59-30bd-42de-b6cd-a70ebae5e03f",
        "embeds": []
      },
      "ab63da61-07f5-442f-a6eb-3b64351540ef": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 360,
          "y": 210
        },
        "z": 3,
        "parent": "3d9f0e59-30bd-42de-b6cd-a70ebae5e03f",
        "embeds": []
      },
      "8126972e-8327-497f-b442-5a5491d01e6b": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 570,
          "y": 150
        },
        "z": 2,
        "parent": "069fc522-faa3-4ffe-acd4-e2a9727309c8",
        "embeds": [
          "0ca57efa-5036-4da8-b77e-2c254d338a4a"
        ]
      },
      "9fac068e-5992-48dc-a9fc-5f26dc609b89": {
        "source": {
          "id": "5c85451d-5fa7-472d-8cc4-70bafb011e72"
        },
        "target": {
          "id": "069fc522-faa3-4ffe-acd4-e2a9727309c8"
        }
      },
      "0ca57efa-5036-4da8-b77e-2c254d338a4a": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 600,
          "y": 210
        },
        "z": 3,
        "parent": "8126972e-8327-497f-b442-5a5491d01e6b",
        "embeds": [],
        "references": [
          "5c85451d-5fa7-472d-8cc4-70bafb011e72"
        ],
        "dependson": [
          "9fac068e-5992-48dc-a9fc-5f26dc609b89"
        ]
      },
      "224f4661-604d-4843-afd4-bae1c98cd8dc": {
        "size": {
          "width": 330,
          "height": 240
        },
        "position": {
          "x": 90,
          "y": 540
        },
        "z": 2,
        "parent": "069fc522-faa3-4ffe-acd4-e2a9727309c8",
        "embeds": [
          "aab9b4b4-7bc6-4219-a6b7-3b5785aa4983",
          "ee851953-bf24-401c-b9fd-53226611aedf"
        ]
      },
      "8efdafd7-2ed0-470a-8e94-55456444fac5": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 210,
          "y": 1260
        },
        "z": 2,
        "parent": "51eff7c7-b228-4934-9d77-652d5176f8f1",
        "embeds": [],
        "isrelatedto": [
          "68138aae-9cb4-4628-ba4f-9614a485cd23",
          "d514d9a0-c000-416e-b563-580c92f82b59",
          "77f11371-47e0-4d6a-84e4-6351f1c9bdde",
          "069fc522-faa3-4ffe-acd4-e2a9727309c8",
          "09502697-ade1-4ff0-aa20-a4907114b57e",
          "224f4661-604d-4843-afd4-bae1c98cd8dc",
          "1b98f3b3-6dc2-4b84-b5af-8fb8a09bd4b9"
        ]
      },
      "aab9b4b4-7bc6-4219-a6b7-3b5785aa4983": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 120,
          "y": 600
        },
        "z": 3,
        "parent": "224f4661-604d-4843-afd4-bae1c98cd8dc",
        "embeds": [],
        "ismemberof": [
          "d514d9a0-c000-416e-b563-580c92f82b59"
        ]
      },
      "7244be38-d0d9-42ba-9026-d54b8387b784": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1260,
          "y": 330
        },
        "z": 1,
        "embeds": [],
        "isconnectedto": [
          "aab9b4b4-7bc6-4219-a6b7-3b5785aa4983"
        ],
        "dependson": [
          "9fac068e-5992-48dc-a9fc-5f26dc609b89"
        ]
      },
      "ee851953-bf24-401c-b9fd-53226611aedf": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 240,
          "y": 600
        },
        "z": 3,
        "parent": "224f4661-604d-4843-afd4-bae1c98cd8dc",
        "embeds": [],
        "ismemberof": [
          "d2da78c9-2880-4636-8082-93c389dc1a6e"
        ]
      },
      "8b8cd292-03d6-426d-9356-10ef6f5e6351": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1380,
          "y": 330
        },
        "z": 1,
        "embeds": [],
        "isconnectedto": [
          "ee851953-bf24-401c-b9fd-53226611aedf"
        ],
        "dependson": [
          "9fac068e-5992-48dc-a9fc-5f26dc609b89"
        ]
      },
      "c166fd91-8927-4a28-b847-5f6b63e42829": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 900,
          "y": 210
        },
        "z": 3,
        "parent": "a582f7bc-71a3-40a3-9f27-3ba957eb8170",
        "embeds": [],
        "references": [
          "ee851953-bf24-401c-b9fd-53226611aedf"
        ]
      },
      "01585dde-a951-4b25-babd-1228294754a4": {
        "source": {
          "id": "3d9f0e59-30bd-42de-b6cd-a70ebae5e03f"
        },
        "target": {
          "id": "224f4661-604d-4843-afd4-bae1c98cd8dc"
        }
      },
      "dea5bc83-29c4-4e52-adbd-efaf81ee631f": {
        "source": {
          "id": "8126972e-8327-497f-b442-5a5491d01e6b"
        },
        "target": {
          "id": "224f4661-604d-4843-afd4-bae1c98cd8dc"
        }
      }
    }
  }
}
